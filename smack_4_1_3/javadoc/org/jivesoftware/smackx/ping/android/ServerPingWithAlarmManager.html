<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jul 15 10:25:19 GMT 2015 -->
<title>ServerPingWithAlarmManager (Smack 4.1.3 API)</title>
<meta name="date" content="2015-07-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ServerPingWithAlarmManager (Smack 4.1.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerPingWithAlarmManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html" target="_top">Frames</a></li>
<li><a href="ServerPingWithAlarmManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jivesoftware.smackx.ping.android</div>
<h2 title="Class ServerPingWithAlarmManager" class="title">Class ServerPingWithAlarmManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/jivesoftware/smack/Manager.html" title="class in org.jivesoftware.smack">org.jivesoftware.smack.Manager</a></li>
<li>
<ul class="inheritance">
<li>org.jivesoftware.smackx.ping.android.ServerPingWithAlarmManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#line.64">ServerPingWithAlarmManager</a>
extends <a href="../../../../../org/jivesoftware/smack/Manager.html" title="class in org.jivesoftware.smack">Manager</a></pre>
<div class="block">Send automatic server pings with the help of <code>AlarmManager</code>.
 <p>
 Smack's <a href="../../../../../org/jivesoftware/smackx/ping/PingManager.html" title="class in org.jivesoftware.smackx.ping"><code>PingManager</code></a> uses a <code>ScheduledThreadPoolExecutor</code> to schedule the
 automatic server pings, but on Android, those scheduled pings are not reliable. This is because
 the Android device may go into deep sleep where the system will not continue to run this causes
 <ul>
 <li>the system time to not move forward, which means that the time spent in deep sleep is not
 counted towards the scheduled delay time</li>
 <li>the scheduled Runnable is not run while the system is in deep sleep.</li>
 </ul>
 That is the reason Android comes with an API to schedule those tasks: AlarmManager. Which this
 class uses to determine every 30 minutes if a server ping is necessary. The interval of 30
 minutes is the ideal trade-off between reliability and low resource (battery) consumption.
 </p>
 <p>
 In order to use this class you need to call <a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#onCreate(Context)"><code>onCreate(Context)</code></a> <b>once</b>, for example
 in the <code>onCreate()</code> method of your Service holding the XMPPConnection. And to avoid
 leaking any resources, you should call <a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#onDestroy()"><code>onDestroy()</code></a> when you no longer need any of its
 functionality.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html" title="class in org.jivesoftware.smackx.ping.android">ServerPingWithAlarmManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#getInstanceFor(org.jivesoftware.smack.XMPPConnection)">getInstanceFor</a></strong>(<a href="../../../../../org/jivesoftware/smack/XMPPConnection.html" title="interface in org.jivesoftware.smack">XMPPConnection</a>&nbsp;connection)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#isEnabled()">isEnabled</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#onCreate(Context)">onCreate</a></strong>(Context&nbsp;context)</code>
<div class="block">Register a pending intent with the AlarmManager to be broadcasted every
 half hour and register the alarm broadcast receiver to receive this
 intent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#onDestroy()">onDestroy</a></strong>()</code>
<div class="block">Unregister the alarm broadcast receiver and cancel the alarm.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#setEnabled(boolean)">setEnabled</a></strong>(boolean&nbsp;enabled)</code>
<div class="block">If enabled, ServerPingWithAlarmManager will call
 <a href="../../../../../org/jivesoftware/smackx/ping/PingManager.html#pingServerIfNecessary()"><code>PingManager.pingServerIfNecessary()</code></a> for the connection of this
 instance every half hour.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.jivesoftware.smack.Manager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jivesoftware.smack.<a href="../../../../../org/jivesoftware/smack/Manager.html" title="class in org.jivesoftware.smack">Manager</a></h3>
<code><a href="../../../../../org/jivesoftware/smack/Manager.html#connection()">connection</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstanceFor(org.jivesoftware.smack.XMPPConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstanceFor</h4>
<pre>public static&nbsp;<a href="../../../../../org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html" title="class in org.jivesoftware.smackx.ping.android">ServerPingWithAlarmManager</a>&nbsp;<a href="../../../../../src-html/org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#line.82">getInstanceFor</a>(<a href="../../../../../org/jivesoftware/smack/XMPPConnection.html" title="interface in org.jivesoftware.smack">XMPPConnection</a>&nbsp;connection)</pre>
</li>
</ul>
<a name="setEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnabled</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#line.104">setEnabled</a>(boolean&nbsp;enabled)</pre>
<div class="block">If enabled, ServerPingWithAlarmManager will call
 <a href="../../../../../org/jivesoftware/smackx/ping/PingManager.html#pingServerIfNecessary()"><code>PingManager.pingServerIfNecessary()</code></a> for the connection of this
 instance every half hour.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>enabled</code> - </dd></dl>
</li>
</ul>
<a name="isEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnabled</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#line.108">isEnabled</a>()</pre>
</li>
</ul>
<a name="onCreate(Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCreate</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#line.163">onCreate</a>(Context&nbsp;context)</pre>
<div class="block">Register a pending intent with the AlarmManager to be broadcasted every
 half hour and register the alarm broadcast receiver to receive this
 intent. The receiver will check all known questions if a ping is
 Necessary when invoked by the alarm intent.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - </dd></dl>
</li>
</ul>
<a name="onDestroy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onDestroy</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html#line.176">onDestroy</a>()</pre>
<div class="block">Unregister the alarm broadcast receiver and cancel the alarm.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerPingWithAlarmManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/jivesoftware/smackx/ping/android/ServerPingWithAlarmManager.html" target="_top">Frames</a></li>
<li><a href="ServerPingWithAlarmManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
